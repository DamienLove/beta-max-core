## 2024-03-27 - Hardcoded Secrets in Frontend Config
**Vulnerability:** Found hardcoded Firebase API keys and configuration in `src/firebase.js`.
**Learning:** Even if keys are technically public (like some Firebase keys), hardcoding them sets a bad precedent and makes environment management (dev/staging/prod) impossible without code changes. It also risks exposing more sensitive keys if developers follow the same pattern.
**Prevention:** Use `import.meta.env` (Vite) or `process.env` (Node) for all configuration. Add `.env` to `.gitignore` immediately upon project creation. Provide `.env.example` for onboarding.

## 2024-05-22 - Insecure Firestore Rules (Public Access)
**Vulnerability:** Firestore rules were configured to allow public read/write access to everyone (`allow read, write: if request.time < ...`).
**Learning:** Default "Test Mode" rules provided by Firebase are often left unchanged, creating a massive security hole where anyone with the project ID can dump or delete the database.
**Prevention:** Always initialize Firestore with "Production Mode" (deny all) or immediately configure `request.auth != null` rules. Never rely on time-based rules for security.

## 2024-05-27 - Detached Firestore Rules & Permissive Defaults
**Vulnerability:** The project `betamax-portal` was using a local `firestore.rules` that allowed full read/write access to any authenticated user, ignoring the granular (but slightly insecure due to a TODO) rules defined in the root `firestore.rules`.
**Learning:** Monorepo structures or misplaced configuration files can lead to the "secure" version of a file being ignored in favor of a default, insecure one generated by CLI tools.
**Prevention:** Verify `firebase.json` configuration paths. Explicitly check the *content* of the active rules file against security requirements. Don't assume the file you see in the root is the one being deployed.
